(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,n){},20:function(e,t,n){e.exports=n(31)},25:function(e,t,n){},31:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(16),i=n.n(o),c=(n(25),n(4)),l=n(5),s=n(9),u=n(6),p=n(8),h=n(1),d=n(3),m=(n(15),function(e){return{type:"init_random",payload:e}}),f=function(e){return{type:"going_jump",payload:e}},g=function(e){function t(e,n){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e,n))).updateStyle=a.updateStyle.bind(Object(h.a)(Object(h.a)(a))),a.setTransform=a.setTransform.bind(Object(h.a)(Object(h.a)(a))),a.onShapeClick=a.onShapeClick.bind(Object(h.a)(Object(h.a)(a))),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){}},{key:"shouldComponentUpdate",value:function(e,t){if(e.shapeName!==this.props.shapeName)return!0}},{key:"updateStyle",value:function(){var e=this.props,t=e.left,n=e.top;e.scale,e.degree;return{left:"".concat(t+300,"px"),top:"".concat(n+200,"px")}}},{key:"setTransform",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o="translateX(".concat(t,"px) translateY(").concat(n,"px) scale(").concat(a,") rotate(").concat(r,"deg)");e.style.webkitTransform=o,e.style.transform=o,e.style.MozTransform=o}},{key:"onShapeClick",value:function(e){this.props.onGoingJump(this.props.idx)}},{key:"render",value:function(){var e=this.props,t=(e.onTriClick,e.shapeName),n=this.updateStyle();return r.a.createElement("li",{className:t,onClick:this.onShapeClick,ref:"shapeItem",style:n})}}]),t}(a.Component),v=Object(d.b)(function(e,t){var n=e.group,a=null;return n.every(function(e,n,r){return e.idx!==t.idx||(a=e,!1)}),{idx:a.idx,shapeName:a.shapeName,scale:a.scale,degree:a.degree,left:a.left,top:a.top,state:"init"}},function(e){return{onTriClick:function(){var t;e({type:"trigger_click",payload:t})},onGoingJump:function(t){e(f(t))}}})(g),y=function(e){function t(e,n){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e,n))).resetClick=a.resetClick.bind(Object(h.a)(Object(h.a)(a))),a.happyClick=a.happyClick.bind(Object(h.a)(Object(h.a)(a))),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(m(this.refs.canvasRef))}},{key:"resetClick",value:function(e){this.props.dispatch(m(this.refs.canvasRef))}},{key:"happyClick",value:function(e){var t=this,n=this.props.group,a=Promise.resolve(),r=!0,o=!1,i=void 0;try{for(var c,l=function(){var e=c.value;a=a.then(function(n){return new Promise(function(t,n){setTimeout(function(){console.log("promise:",e.idx),t(e.idx)},1e3)}).then(function(e){return t.props.dispatch(f(e))})})},s=n[Symbol.iterator]();!(r=(c=s.next()).done);r=!0)l()}catch(u){o=!0,i=u}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}}},{key:"render",value:function(){var e=this.props.group;return r.a.createElement("div",null,r.a.createElement("button",{className:"resetButton",onClick:this.resetClick},"Reset"),r.a.createElement("button",{className:"resetButton",onClick:this.happyClick},"Happy Together"),r.a.createElement("div",{className:"customCanvas",ref:"canvasRef"},e.map(function(e){return r.a.createElement(v,{shapeName:e.shapeName,idx:e.idx,state:"init",scale:e.scale,degree:e.degree,top:e.top,left:e.left})})))}}]),t}(a.Component),b=Object(d.b)(function(e){return{init:e.init,group:e.group}},null)(y);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var k=n(7),j=n(11),O=function(){var e=null;function t(){return this instanceof t?(null==e&&(e=this),e):null}return t.prototype.randomByRange=function(e,t){return Math.floor(Math.random()*(t-e)+e)},t}(),C=["triangle20Red","triangle10Green","triangle10Yellow","circle30Red","circle10Green","circle10Yellow","circle10FrameBlue","circle10FrameRed"],w=new O;console.log(w,"util");var x=Object(k.b)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{init:!1,initCount:15,group:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"trigger_click":return console.log("triangle click"),Object(j.a)({},e);case"init_random":console.log("init random,I'll create some random state shapes in store");for(var n=[],a=0;a<e.initCount;a++){var r={idx:a,shapeName:C[w.randomByRange(0,C.length)],scale:w.randomByRange(2,5),degree:w.randomByRange(-180,180),left:w.randomByRange(-400,400),top:w.randomByRange(-200,200),state:"init"};n.push(r)}return Object(j.a)({},e,{group:n});case"going_jump":var o=null,i=t.payload;e.group.some(function(e){return e.idx===i&&((o=e).shapeName=o.shapeName+" running",!0)});var c={};return Object.assign(c,e),c;case"happy_together":e.group.map(function(e,t,n){e.shapeName=e.shapeName+" running"});var l={};return Object.assign(l,e),l;default:return Object(j.a)({},e)}});i.a.render(r.a.createElement(d.a,{store:x},r.a.createElement(b,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[20,2,1]]]);
//# sourceMappingURL=main.69200127.chunk.js.map