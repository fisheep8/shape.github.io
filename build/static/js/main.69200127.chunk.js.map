{"version":3,"sources":["reducers/actions.js","reducers/actionTypes.js","views/ShapeCmp.js","views/App.js","serviceWorker.js","utils/util.js","reducers/reducer.js","Store.js","index.js"],"names":["init_random_action","data","type","payload","going_jump_action","ShapeCmp","props","context","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","updateStyle","bind","assertThisInitialized","setTransform","onShapeClick","nextprops","nextstate","shapeName","_this$props","left","top","scale","degree","concat","shape","arguments","length","undefined","deg","trans","style","webkitTransform","transform","MozTransform","event","onGoingJump","idx","_this$props2","onTriClick","styleObj","react_default","a","createElement","className","onClick","ref","Component","connect","state","ownprops","nodes","group","node","every","element","arr","dispatch","id","App","resetClick","happyClick","refs","canvasRef","e","_this2","p","Promise","resolve","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_loop","item","value","then","res","resolver","reject","setTimeout","console","log","_iterator","Symbol","iterator","next","done","err","return","map","views_ShapeCmp","init","Boolean","window","location","hostname","match","utilTool","_singleIns","utilSingleton","prototype","randomByRange","min","max","Math","floor","random","ShapesNameOption","util","createStore","initCount","action","objectSpread","index","push","some","newstate","assign","st","ReactDOM","render","es","store","views_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.69200127.chunk.js","sourcesContent":["import {TRIGGER_CLICK,EMIT_ROTATE,INIT_RANDOM,GOING_JUMP, HAPPY_TOGETHER} from './actionTypes';\r\n\r\nexport const triangle_trigger_click_action=(data)=>{\r\n    return {\r\n        type:TRIGGER_CLICK,\r\n        payload:data\r\n    }\r\n}\r\nexport const emit_rotate_action=(data)=>{\r\n    return {\r\n        type:EMIT_ROTATE,\r\n        payload:data\r\n    }\r\n}\r\nexport const init_random_action=(data)=>{\r\n    return {\r\n        type:INIT_RANDOM,\r\n        payload:data\r\n    }\r\n}\r\nexport const going_jump_action=(data)=>{\r\n    return{\r\n        type:GOING_JUMP,\r\n        payload:data\r\n    }\r\n}\r\nexport const happy_together_action=()=>{\r\n    return {\r\n        type:HAPPY_TOGETHER,\r\n    }\r\n}","export const TRIGGER_CLICK=\"trigger_click\";\r\nexport const EMIT_ROTATE=\"emit_rotate\";\r\nexport const INIT_RANDOM=\"init_random\";\r\nexport const GOING_JUMP=\"going_jump\";\r\nexport const HAPPY_TOGETHER=\"happy_together\";","import React,{ Component,PropTypes} from 'react';\r\nimport { connect } from 'react-redux';\r\nimport './material.scss';\r\nimport {triangle_trigger_click_action,going_jump_action} from '../reducers/actions';\r\nclass ShapeCmp extends Component{\r\n    constructor(props, context){\r\n        super(props, context);\r\n        this.updateStyle=this.updateStyle.bind(this);\r\n        this.setTransform=this.setTransform.bind(this);\r\n        this.onShapeClick=this.onShapeClick .bind(this);\r\n    }\r\n    componentDidMount(){\r\n        //this.setCss();\r\n    }\r\n    shouldComponentUpdate(nextprops,nextstate){\r\n        if(nextprops.shapeName !== this.props.shapeName)\r\n        return true;\r\n    }\r\n    updateStyle(){\r\n        const {left,top,scale,degree}=this.props;\r\n        let styleObj={\r\n            left:`${left+300}px`,\r\n            top:`${top+200}px`,\r\n        };\r\n        return styleObj;\r\n    }\r\n    setTransform(shape,left=0,top=0,scale=1,deg=0){\r\n        let trans=`translateX(${left}px) translateY(${top}px) scale(${scale}) rotate(${deg}deg)`;\r\n        shape.style.webkitTransform = trans;\r\n        shape.style.transform = trans;\r\n        shape.style.MozTransform = trans;\r\n        \r\n    }\r\n    onShapeClick(event) {\r\n        // this.setState({\r\n        //   value: event.target.value\r\n        // });\r\n        this.props.onGoingJump(this.props.idx);\r\n      }\r\n    render(){\r\n        const {onTriClick,shapeName}=this.props;\r\n        let styleObj=this.updateStyle();\r\n        return(\r\n            <li className={shapeName} onClick={this.onShapeClick} ref=\"shapeItem\" style={styleObj}></li>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps=(state,ownprops)=>{\r\n    let nodes=state.group;\r\n    let node=null;\r\n    let resultProps=null;\r\n    nodes.every((element,idx,arr) => {\r\n        if(element.idx === ownprops.idx)\r\n        {\r\n            node=element;\r\n            return false;\r\n        }\r\n        else\r\n        return true;\r\n    });\r\n    return {\r\n        idx:node.idx,\r\n        shapeName:node.shapeName,\r\n        scale:node.scale,\r\n        degree:node.degree,\r\n        left:node.left,\r\n        top:node.top,\r\n        state:'init'\r\n    };\r\n}\r\nconst mapDispatchToProps=(dispatch)=>{\r\n    return{\r\n        onTriClick:()=>{\r\n            dispatch(triangle_trigger_click_action());\r\n        },\r\n        onGoingJump:(id)=>{\r\n            dispatch(going_jump_action(id));\r\n        }\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(ShapeCmp);","import React, { Component } from 'react';\nimport {connect} from 'react-redux';\nimport './material.scss';\nimport ShapeCmp from './ShapeCmp.js';\nimport {init_random_action,happy_together_action,going_jump_action} from '../reducers/actions';\n\nclass App extends Component {\n  constructor(props,context){\n    super(props,context);\n    this.resetClick=this.resetClick .bind(this);\n    this.happyClick=this.happyClick .bind(this);\n  }\n  componentDidMount(){\n    this.props.dispatch(init_random_action(this.refs.canvasRef));\n  }\n  resetClick(e){\n    this.props.dispatch(init_random_action(this.refs.canvasRef));\n  }\n  happyClick(e){\n    const {group}=this.props;\n    let p=Promise.resolve();\n    for (const item of group) {\n      p=p.then(\n        (res)=>{\n          return new Promise(function(resolver,reject){\n            setTimeout(() => {\n              console.log(\"promise:\",item.idx);\n              resolver(item.idx);\n            }, 1000);\n          }).then(\n            res=> this.props.dispatch(going_jump_action(res))\n          )\n        }\n      );\n    }\n   // this.props.dispatch(happy_together_action());\n  }\n  render() {\n    const {group}=this.props;\n\n    return (\n      <div>\n      <button className=\"resetButton\" onClick={this.resetClick}>Reset</button>\n      <button className=\"resetButton\" onClick={this.happyClick}>Happy Together</button>\n      <div className=\"customCanvas\" ref=\"canvasRef\">\n       {\n         group.map(\n           (item)=>{\n             return <ShapeCmp shapeName={item.shapeName} idx={item.idx}\n             state=\"init\"\n             scale={item.scale}\n             degree={item.degree}\n             top={item.top}\n             left={item.left}/>\n           }\n         )\n       }\n      </div>\n      </div>\n    );\n  }\n}\nvar mapStateToProps=(state)=>{\n    return{\n      init:state.init,\n      group:state.group,\n    }\n}\nexport default connect(mapStateToProps,null)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","//singleton\r\nexport var utilTool=(\r\nfunction(){\r\n    var _singleIns=null;\r\n    function utilSingleton(){\r\n        if(!(this instanceof utilSingleton))\r\n        return null;\r\n        if(_singleIns == null)\r\n            _singleIns = this;\r\n        return _singleIns;\r\n    }\r\n    utilSingleton.prototype.randomByRange=function(min,max){\r\n        return Math.floor(Math.random() * (max - min) + min);\r\n    }\r\n    return utilSingleton;\r\n}\r\n)();","import {TRIGGER_CLICK,INIT_RANDOM, GOING_JUMP, HAPPY_TOGETHER} from './actionTypes.js';\r\nimport {utilTool} from '../utils/util.js';\r\n\r\nvar ShapesNameOption=[\"triangle20Red\",\"triangle10Green\",\"triangle10Yellow\",\"circle30Red\",\"circle10Green\",\"circle10Yellow\",\"circle10FrameBlue\",\"circle10FrameRed\"];\r\nvar util=new utilTool();\r\nconsole.log(util,\"util\");\r\nexport default (state={init:false,initCount:15,group:[]}, action)=>{\r\n    switch (action.type) {\r\n        case TRIGGER_CLICK:\r\n        console.log(\"triangle click\");\r\n        return {...state};\r\n            break;\r\n        case INIT_RANDOM:\r\n        console.log(\"init random,I'll create some random state shapes in store\");\r\n        let nodes=[];\r\n        for (let index = 0; index < state.initCount; index++) {\r\n            let node={\r\n                idx:index,\r\n                shapeName:ShapesNameOption[util.randomByRange(0,ShapesNameOption.length)],\r\n                scale:util.randomByRange(2,5),\r\n                degree:util.randomByRange(-180,180),\r\n                left:util.randomByRange(-400,400),\r\n                top:util.randomByRange(-200,200),\r\n                state:'init'\r\n            };\r\n            nodes.push(node);\r\n        }\r\n        return {...state,group:nodes};\r\n            break;\r\n        case GOING_JUMP:\r\n        let node=null;\r\n        let id=action.payload;\r\n        state.group.some(function(item){\r\n            if(item.idx === id)\r\n            {\r\n                node=item;\r\n                node.shapeName=node.shapeName+\" running\";\r\n                return true;\r\n            }\r\n            else\r\n            return false;\r\n        });\r\n       \r\n        // let newnode={};\r\n        // Object.assign(newnode,node);\r\n        // newnode.shapeName=newnode.shapeName+\" running\";\r\n        // console.log(\"before \",);\r\n        // let newnodes={...state.group,newnode};\r\n        let newstate={};\r\n        Object.assign(newstate,state);\r\n        return newstate;\r\n        break;\r\n        case HAPPY_TOGETHER:\r\n        state.group.map((item,idx,arr)=>{\r\n            item.shapeName=item.shapeName+\" running\";\r\n        });\r\n        let st={};\r\n        Object.assign(st,state);\r\n        return st;\r\n        break;\r\n        default:\r\n        return {...state};\r\n            break;\r\n    }\r\n}","import {createStore, combineReducers} from 'redux';\nimport {reducer} from './reducers';\n\n\n//import Perf from 'react-addons-perf';\n// const win = window;\n //win.Perf = Perf\n// const reducer = combineReducers({\n//   events: eventReducer,\n//   ani: aniReducer\n// });\n\n// const middlewares = [];\n// if (process.env.NODE_ENV !== 'production') {\n//   middlewares.push(require('redux-immutable-state-invariant')());\n// }\n\n// const storeEnhancers = compose(\n//   applyMiddleware(...middlewares),\n//   (win && win.devToolsExtension) ? win.devToolsExtension() : (f) => f,\n// );\n\nexport default createStore(reducer);\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './views/App';\nimport * as serviceWorker from './serviceWorker';\nimport store from './Store.js';\nimport {Provider} from 'react-redux';\n\nReactDOM.render( \n<Provider store={store}>\n    <App />\n  </Provider>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}